(function(e){function t(t){for(var a,n,r=t[0],l=t[1],c=t[2],p=0,d=[];p<r.length;p++)n=r[p],o[n]&&d.push(o[n][0]),o[n]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a]);u&&u(t);while(d.length)d.shift()();return i.push.apply(i,c||[]),s()}function s(){for(var e,t=0;t<i.length;t++){for(var s=i[t],a=!0,r=1;r<s.length;r++){var l=s[r];0!==o[l]&&(a=!1)}a&&(i.splice(t--,1),e=n(n.s=s[0]))}return e}var a={},o={app:0},i=[];function n(t){if(a[t])return a[t].exports;var s=a[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=e,n.c=a,n.d=function(e,t,s){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(n.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(s,a,function(t){return e[t]}.bind(null,a));return s},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],l=r.push.bind(r);r.push=t,r=r.slice();for(var c=0;c<r.length;c++)t(r[c]);var u=l;i.push([0,"chunk-vendors"]),s()})({0:function(e,t,s){e.exports=s("56d7")},"02d6":function(e,t,s){},"2a37":function(e,t,s){"use strict";var a=s("ff29"),o=s.n(a);o.a},"325b":function(e,t,s){"use strict";var a=s("02d6"),o=s.n(a);o.a},"3cad":function(e,t,s){},"42c2":function(e,t,s){"use strict";var a=s("a253"),o=s.n(a);o.a},"56d7":function(e,t,s){"use strict";s.r(t);var a=s("2b0e"),o=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"app"}},[s("router-view")],1)},i=[],n=s("2877"),r={},l=Object(n["a"])(r,o,i,!1,null,null,null);l.options.__file="App.vue";var c=l.exports,u=s("8c4f"),p=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"home container-fluid"},[s("navigation-bar"),s("div",{staticClass:"row",staticStyle:{margin:"7rem",display:"flex","justify-content":"center"}},[s("div",{staticClass:"col-sm-6"},[s("h1",{staticClass:"FP"},[e._v("Create a Keep")]),s("form",{staticStyle:{},on:{submit:function(t){return t.preventDefault(),e.addKeep(t)}}},[s("div",{staticClass:"center"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.newKeep.name,expression:"newKeep.name"}],staticStyle:{border:"solid"},attrs:{type:"text",placeholder:"Title",required:""},domProps:{value:e.newKeep.name},on:{input:function(t){t.target.composing||e.$set(e.newKeep,"name",t.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:e.newKeep.description,expression:"newKeep.description"}],staticStyle:{border:"solid"},attrs:{type:"text",placeholder:"Description"},domProps:{value:e.newKeep.description},on:{input:function(t){t.target.composing||e.$set(e.newKeep,"description",t.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:e.newKeep.img,expression:"newKeep.img"}],staticStyle:{border:"solid"},attrs:{type:"url",placeholder:"Image Link"},domProps:{value:e.newKeep.img},on:{input:function(t){t.target.composing||e.$set(e.newKeep,"img",t.target.value)}}}),s("button",{staticClass:"btn btn-outline-dark",staticStyle:{height:"5vh",width:"10vw",color:"darkorange"},attrs:{type:"submit"}},[e._v("Post Keep")])])])])]),s("div",{staticClass:"row",staticStyle:{margin:"7rem"}},e._l(e.keeps,function(e){return s("div",{key:e._id,staticClass:"col-sm-6"},[s("keep",{attrs:{keepData:e}})],1)}))],1)},d=[],h=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-toolbar",{attrs:{fixed:"",dark:"",color:"indigo darken-4"}},[s("v-btn",{attrs:{flat:"",href:"#",icon:""},on:{click:function(t){e.home()}}},[s("v-icon",{attrs:{color:"white",large:""}},[e._v("fas fa-crow")])],1),s("h1",{staticClass:"font"},[e._v("KeepR")]),s("v-spacer"),e.user.id?s("v-toolbar-items",[s("v-btn",{attrs:{icon:""},on:{click:function(t){e.profile()}}},[s("v-icon",[e._v("fas fa-diagnoses")])],1),s("v-btn",{attrs:{icon:""},on:{click:function(t){e.logout()}}},[s("v-icon",[e._v("fa-sign-out-alt")])],1)],1):s("v-toolbar-items",[s("v-layout",{attrs:{"full-height":"","align-center":""}},[s("v-btn",{staticClass:"white--text",attrs:{flat:"",round:"",large:""},on:{click:function(t){e.createAccount()}}},[e._v("create accout")])],1)],1)],1)},m=[],v={name:"navigationBar",data(){return{search:""}},computed:{user(){return this.$store.state.user}},methods:{home(){this.$router.push({name:"home"})},profile(){this.$router.push({name:"profile"})},logout(){this.$store.dispatch("logout")},createAccount(){this.$store.dispatch("createAccount")}}},f=v,g=(s("325b"),Object(n["a"])(f,h,m,!1,null,null,null));g.options.__file="NavigationBar.vue";var w=g.exports,b=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"keeps card"},[s("div",{staticClass:"topkeep"},[e._m(0),s("button",{staticClass:"btn",on:{click:function(t){e.deleteKeep()}}},[s("i",{staticClass:"fas fa-ban"})])]),s("h2",{staticClass:"center"},[e._v(e._s(e.keepData.name))]),s("p",{staticClass:"center"},[e._v(e._s(e.keepData.description))]),s("div",{staticClass:"container"},[s("img",{staticClass:"image",attrs:{src:e.keepData.img,alt:"Avatar"}}),s("div",{staticClass:"overlay"},[s("a",{staticClass:"icon",attrs:{href:"#",title:"User Profile"}}),s("div",{staticClass:"topkeep"},[s("button",{staticClass:"btn",on:{click:function(t){e.view()}}},[s("i",{staticClass:"color far fa-eye"},[e._v(":"+e._s(e.keepData.views))])]),s("div",{staticClass:"drop"},[s("button",{staticClass:"btn",on:{click:function(t){e.addKeepToVaults()}}},[s("i",{staticClass:"color fas fa-folder-open"})]),s("select",{staticStyle:{height:"3vh",color:"darkorange"}},[s("option",{attrs:{disabled:"",value:""}},[e._v("Choose Vault")]),e._l(e.vaults,function(t){return s("option",{key:t.id,domProps:{value:t.id}},[e._v("\n        "+e._s(t.name)+"\n      ")])})],2)]),s("button",{staticClass:"btn",on:{click:function(t){e.share()}}},[s("i",{staticClass:"color fas fa-share-alt"},[e._v(":"+e._s(e.keepData.shares))])])])])])])},k=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("button",{staticClass:"btn"},[s("i",{staticClass:"fas fa-user-edit"})])}],_=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"vault card"},[s("button",{staticClass:"bye btn",on:{click:function(t){e.deleteVault()}}},[s("i",{staticClass:"fas fa-ban"})]),s("h2",{staticClass:"font"},[e._v(e._s(e.vaultData.name))]),s("p",{staticClass:"para"},[e._v(e._s(e.vaultData.description))]),s("button",{staticClass:"btn btn-outline-dark",staticStyle:{color:"darkorange"},on:{click:function(t){e.viewVault()}}},[e._v("Open Vault")])])},y=[],$={name:"vault",props:["vaultData"],mounted(){this.$store.state.user.id||this.$router.push({name:"login"})},methods:{deleteVault(){this.$store.dispatch("deleteVault",this.vaultData.id)}},viewVault(){this.$store.dispatch("viewVault",this.vaultData.id)}},C=$,K=(s("a17c"),Object(n["a"])(C,_,y,!1,null,"12030f95",null));K.options.__file="Vault.vue";var V=K.exports,x={name:"keep",props:["keepData"],mounted(){this.$store.state.user.id&&this.$store.dispatch("getVaultsByUserId",this.$store.state.user.id)},data(){return{selectedVaultId:""}},computed:{vaults(){return this.$store.state.vaults}},methods:{deleteKeep(){this.$store.dispatch("deleteKeep",this.keepData.id)},view(){this.$store.dispatch("addKeepView",this.keepData.id)},share(){this.$store.dispatch("addKeepShare",this.keepData.id)},addKeepToVaults(){this.selectedVaultId&&this.$store.dispatch("addKeepToVaults",{keepId:this.keepData.id,vaultId:this.selectedVaultId})},showAvailableVaults(){}}},U=x,D=(s("42c2"),Object(n["a"])(U,b,k,!1,null,"355b3836",null));D.options.__file="Keep.vue";var S=D.exports,j={name:"home",props:["browsing"],components:{keep:S,NavigationBar:w},mounted(){this.browsing&&this.$router.dispatch("getKeeps"),this.$store.dispatch("authenticate"),this.$store.dispatch("getKeeps")},data(){return{newKeep:{img:"",name:"",description:""}}},computed:{keeps(){return this.$store.state.keeps}},methods:{addKeep(){this.$store.dispatch("addKeep",this.newKeep),this.newKeep={img:"",name:"",description:""}},logout(){this.$store.dispatch("logout",this.login)}}},O=j,P=(s("cccb"),Object(n["a"])(O,p,d,!1,null,null,null));P.options.__file="Home.vue";var M=P.exports,F=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-content",{attrs:{id:"h"}},[s("v-container",{attrs:{"fill-height":""}},[s("v-layout",{attrs:{"justify-center":"","align-center":""}},[s("v-flex",{attrs:{sm8:"",md4:""}},[s("div",{staticClass:"login"},[e.loginForm?s("v-card",[s("v-toolbar",{attrs:{card:"",color:"blue darken-4"}},[s("v-icon",{attrs:{color:"grey lighten-5",large:""}},[e._v("fas fa-crow")]),s("v-toolbar-title",[e._v("Login")]),s("v-spacer"),s("v-btn",{staticClass:"white--text",attrs:{flat:"",round:""},on:{click:function(t){e.loginForm=!e.loginForm}}},[e._v("\n                                or sign up\n                            ")])],1),s("form",{staticClass:"ma-3",on:{submit:function(t){return t.preventDefault(),e.loginUser(t)}}},[s("v-text-field",{attrs:{color:"blue darken-4","single-line":"",clearable:"",placeholder:"email"},model:{value:e.creds.email,callback:function(t){e.$set(e.creds,"email",t)},expression:"creds.email"}}),s("v-text-field",{attrs:{type:"password",color:"blue darken-4","single-line":"",clearable:"",placeholder:"password"},model:{value:e.creds.password,callback:function(t){e.$set(e.creds,"password",t)},expression:"creds.password"}}),s("v-btn",{attrs:{type:"submit",color:"blue darken-4"}},[e._v("login")])],1)],1):s("v-card",[s("v-toolbar",{attrs:{card:""}},[s("v-icon",{attrs:{color:"blue darken-4",large:""}},[e._v("fas fa-crow")]),s("v-toolbar-title",[e._v("Create Accout")]),s("v-spacer"),s("v-btn",{staticClass:"black--text",attrs:{flat:"",round:""},on:{click:function(t){e.loginForm=!e.loginForm}}},[e._v("\n                                or login\n                            ")])],1),s("form",{staticClass:"ma-3",on:{submit:function(t){return t.preventDefault(),e.register(t)}}},[s("v-text-field",{attrs:{color:"blue darken-4","single-line":"",clearable:"",placeholder:"username"},model:{value:e.newUser.username,callback:function(t){e.$set(e.newUser,"username",t)},expression:"newUser.username"}}),s("v-text-field",{attrs:{color:"blue darken-4","single-line":"",clearable:"",placeholder:"email"},model:{value:e.newUser.email,callback:function(t){e.$set(e.newUser,"email",t)},expression:"newUser.email"}}),s("v-text-field",{attrs:{type:"password",color:"blue darken-4","single-line":"",clearable:"",placeholder:"password"},model:{value:e.newUser.password,callback:function(t){e.$set(e.newUser,"password",t)},expression:"newUser.password"}}),s("v-text-field",{attrs:{type:"password",color:"blue darken-4","single-line":"",clearable:"",placeholder:"confirm password"},on:{input:function(t){e.passwordConfirm()}},model:{value:e.newUser.password2,callback:function(t){e.$set(e.newUser,"password2",t)},expression:"newUser.password2"}}),e.passwordsMatch?s("v-btn",{attrs:{type:"submit",color:"blue darken-4"}},[e._v("register")]):e._e()],1)],1)],1),s("v-layout",{attrs:{"pt-3":""}},[s("router-link",{staticClass:"black--text",attrs:{to:{name:"home",params:{browsing:!0}}}},[e._v("Browse as Guest")])],1)],1)],1)],1)],1)},I=[],T={name:"login",mounted(){this.$store.dispatch("authenticate"),"true"==this.signUp&&(this.loginForm=!1)},data(){return{loginForm:!0,creds:{email:"",password:""},newUser:{email:"",password:"",username:"",password2:""},passwordsMatch:!1}},props:["signUp"],methods:{passwordConfirm(){if(this.newUser.password==this.newUser.password2)return this.passwordsMatch=!0;this.passwordsMatch=!1},register(){this.$store.dispatch("register",this.newUser)},loginUser(){this.$store.dispatch("login",this.creds)}}},A=T,B=(s("8f51"),Object(n["a"])(A,F,I,!1,null,"e326c524",null));B.options.__file="Login.vue";var E=B.exports,N=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"profile"},[s("navigation-bar"),s("div",{staticClass:"row",staticStyle:{"margin-top":"7rem",display:"flex","justify-content":"center"}},[s("div",{staticClass:"col-sm-6"},[s("h1",{staticClass:"FP"},[e._v("Create a Vault")]),s("form",{on:{submit:function(t){return t.preventDefault(),e.addVault(t)}}},[s("div",{staticClass:"center"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.newVault.name,expression:"newVault.name"}],attrs:{type:"text",placeholder:"Title",required:""},domProps:{value:e.newVault.name},on:{input:function(t){t.target.composing||e.$set(e.newVault,"name",t.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:e.newVault.description,expression:"newVault.description"}],attrs:{type:"text",placeholder:"Description"},domProps:{value:e.newVault.description},on:{input:function(t){t.target.composing||e.$set(e.newVault,"description",t.target.value)}}}),s("button",{staticClass:"btn btn-outline-dark",staticStyle:{height:"5vh",width:"10vw",color:"darkorange"},attrs:{type:"submit"}},[e._v("Create Vault")])])])])]),s("div",{staticClass:"row",staticStyle:{"margin-top":"7rem"}},e._l(e.vaults,function(e){return s("div",{key:e._id,staticClass:"col-sm-6"},[s("vault",{attrs:{vaultData:e}})],1)}))],1)},L=[],R={name:"profile",components:{keep:S,vault:V,NavigationBar:w},mounted(){this.$store.state.user.id||this.$router.push({name:"login"}),this.$store.dispatch("getVaultsByUserId",this.$store.state.user.id)},data(){return{newKeep:{img:"",name:"",description:""},newVault:{name:"",description:""}}},computed:{showMyKeeps(){return this.$store.state.showMyKeeps},keeps(){return this.$store.state.keeps},vaults(){return this.$store.state.vaults},selectedVaultKeeps(){return this.$store.state.selectedVaultkeeps}},methods:{addKeep(){this.$store.dispatch("addKeep",this.newKeep),this.newKeep={img:"",name:"",description:""}},selectVault(e){this.$store.dispatch("getVaultKeeps",e)},addVault(){this.$store.dispatch("addVault",this.newVault),this.newVault={name:"",description:""}},logout(){this.$store.dispatch("logout",this.login)}}},q=R,J=(s("2a37"),Object(n["a"])(q,N,L,!1,null,null,null));J.options.__file="Profile.vue";var G=J.exports;a["default"].use(u["a"]);var H=new u["a"]({routes:[{path:"/",name:"home",component:M},{path:"/login",name:"login",component:E},{path:"/profile",name:"profile",component:G}]}),z=s("2f62"),Q=s("bc3a"),W=s.n(Q);a["default"].use(z["a"]);let X=W.a.create({baseURL:"//localhost:5000/account/",timeout:3e3,withCredentials:!0}),Y=W.a.create({baseURL:"//localhost:5000/api/",timeout:3e3,withCredentials:!0});var Z=new z["a"].Store({state:{user:{},keeps:[],vaults:[],selectedVaultkeeps:[],showMyKeeps:!0},mutations:{setUser(e,t){e.user=t},setKeeps(e,t){e.keeps=t},setVaults(e,t){e.vaults=t},showMyKeeps(e,t){e.showMyKeeps=t,e.showMyKeeps=!0},selectedVaultkeeps(e,t){e.selectedVaultkeeps=t,e.showMyKeeps=!1}},actions:{register({commit:e,dispatch:t},s){X.post("register",s).then(t=>{e("setUser",t.data),H.push({name:"home"})}).catch(e=>{console.log("[registration failed] :",e)})},authenticate({commit:e,dispatch:t}){X.get("authenticate").then(t=>{e("setUser",t.data),H.push({name:"home"})}).catch(e=>{console.log("not authenticated")})},login({commit:e,dispatch:t},s){X.post("login",s).then(t=>{e("setUser",t.data),H.push({name:"home"})}).catch(e=>{console.log("Login Failed")})},logout({commit:e,dispatch:t}){X.delete("logout").then(t=>{e("setUser",{}),H.push({name:"login"})})},createAccount({commit:e,dispatch:t}){X.delete("logout").then(t=>{e("setUser",{}),H.push({name:"login"})})},getKeeps({commit:e,dispatch:t}){Y.get("keeps").then(t=>{e("setKeeps",t.data)}).catch(e=>{console.log(e)})},addKeep({commit:e,dispatch:t},s){Y.post("keeps",s).then(e=>{t("getKeeps")})},addKeepView({commit:e,dispatch:t},s){Y.get(`keeps/${s}/addView`).then(e=>{t("getKeeps")})},addKeepShare({commit:e,dispatch:t},s){Y.get(`keeps/${s}/addShare`).then(e=>{t("getKeeps")})},deleteKeep({commit:e,dispatch:t},s){Y.delete("keeps/"+s).then(e=>{t("getKeeps")}).catch(e=>{console.log("error:",e)})},getVaults({commit:e,dispatch:t},s){Y.get("vaults").then(t=>{e("setVaults",t.data)}).catch(e=>{console.log(e)})},getVaultKeeps({commit:e,dispatch:t},s){Y.get(`vaults/${s}/keeps`).then(t=>{console.log(t.data),e("selectedVaultkeeps",t.data)}).catch(console.error)},getVaultsByUserId({commit:e,dispatch:t},s){Y.get("vaults/byuser/"+s).then(t=>{e("setVaults",t.data)}).catch(e=>{console.log(e)})},addVault({commit:e,dispatch:t},s){Y.post("vaults",s).then(e=>{t("getVaults")})},addKeepToVaults({commit:e,dispatch:t},s){Y.post("vaultkeeps",s).catch(e=>{console.log("error:",e)})},deleteVault({commit:e,dispatch:t},s){Y.delete("vaults/"+s).then(e=>{t("getVaults")}).catch(e=>{console.log("error:",e)})}}}),ee=s("ce5b"),te=s.n(ee);s("bf40");a["default"].use(te.a),a["default"].config.productionTip=!1,new a["default"]({router:H,store:Z,render:e=>e(c)}).$mount("#app")},"7e4a":function(e,t,s){},"8f51":function(e,t,s){"use strict";var a=s("3cad"),o=s.n(a);o.a},"8f59":function(e,t,s){},a17c:function(e,t,s){"use strict";var a=s("7e4a"),o=s.n(a);o.a},a253:function(e,t,s){},cccb:function(e,t,s){"use strict";var a=s("8f59"),o=s.n(a);o.a},ff29:function(e,t,s){}});
//# sourceMappingURL=app.8a089d8f.js.map